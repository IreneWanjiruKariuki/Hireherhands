<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../css/dashboard.css">
    <title>Dashboard</title>
    <style>
        body {
            background: linear-gradient(135deg, #f9fafb 0%, #def2c950 100%);
            min-height: 100vh;
            color: #333;
        }
    </style>
</head>
<body>

    <div class="dashboard-container">
        <!--Header-->
        <div class="header">
            <div class="header-content">
                <div class="welcome-section">
                    <h1 id="welcomeMessage">Welcome , Loading...</h1>
                    <p>Manage your jobs and find skilled workers for your projects</p>
                </div>
                <div class="user-actions">
                    <a href="profile.html" class="logout-btn">ðŸ‘¤ Profile</a>
                    <a href="worker_dash.html" class="logout-btn">Worker's Dashboard</a>
                    <a href="login.html" class="logout-btn">Sign Out</a>
                </div>
            </div>
        </div>
        <!--Post new job or register as worker section-->
        <div class="quick-actions">
            <div class="action-card primary">
                <div class="action-icon">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                        <polyline points="14,2 14,8 20,8"/>
                        <line x1="16" y1="13" x2="8" y2="13"/>
                        <line x1="16" y1="17" x2="8" y2="17"/>
                        <polyline points="10,9 9,9 8,9"/>
                    </svg>
                </div>
                <h3>Post a New Job</h3>
                <p>Create a new job posting to find skilled workers for your project</p>
                <a href="jobPosting.html" class="action-btn">Create Job Post</a>
            </div>
            <div class="action-card">
                <div class="action-icon">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
                        <circle cx="8.5" cy="7" r="4"/>
                        <line x1="20" y1="8" x2="20" y2="14"/>
                        <line x1="23" y1="11" x2="17" y2="11"/>
                    </svg>
                </div>
                <h3>Become a Worker</h3>
                <p>Register as a worker to offer your services and find job opportunities</p>
                <a href="workerReg.html" class="action-btn">Register as Worker</a>
            </div>
        </div>

        <!--Job History Section-->
        <div class="jobs-section">
            <div class="section-header">
                <h2>Your Job History</h2>
                <div class="filter-tabs">
                    <a href="#" class="filter-tab active" onclick="filterJobs('all', event)">All</a>
                    <a href="#" class="filter-tab" onclick="filterJobs('open', event)">Open</a>
                    <a href="#" class="filter-tab" onclick="filterJobs('requested', event)">Requested</a>
                    <a href="#" class="filter-tab" onclick="filterJobs('in_progress', event)">In Progress</a>
                    <a href="#" class="filter-tab" onclick="filterJobs('completed', event)">Completed</a>
                </div>
            </div>
            <div class="jobs-grid" id="jobsContainer">
                <div class="loading">
                   Loading jobs...
                </div>
            </div>
            <div id="jobDetailsModal" class="modal">
            <div class="modal-content">
                <span class="close" onclick="document.getElementById('jobDetailsModal').style.display='none'">&times;</span>
                <h2 id="modalTitle"></h2>
                <p id="modalDescription"></p>
                <p id="modalBudget"></p>
                <p id="modalStatus"></p>
            </div>
        </div>
        </div>
        <div id="errorMessage" style="display:none; color: red; font-weight: bold; margin-bottom: 1rem;"></div>

    </div>
    <div id="jobDetailsPopup" class="popup-overlay">
        <div class="popup-content">
            <div class="popup-header">
                <h3>Job Details</h3>
                <button class="close-popup" onclick="closeJobDetails()">&times;</button>
            </div>
            <div class="popup-body" id="jobDetailsContent">
                <p>Loading job details...</p>
            </div>
        </div>
    </div> 
    <div id="accessModal" class="popup-overlay" style="display: none;">
        <div class="popup-content">
            <div class="popup-header">
                <h3>Access Required</h3>
                <button class="close-popup" onclick="document.getElementById('accessModal').style.display='none'">&times;</button>
            </div>
            <div class="popup-body">
                <p id="accessModalMessage">Your session has expired. Please log in again.</p>
                <button id="accessModalBtn" class="action-btn">Okay</button>
            </div>
        </div>
    </div>

    <script src="../js/modal.js"></script>
    <script src="../js/dashboard.js"></script>
</body>
</html>